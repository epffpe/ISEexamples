KCPSM3 Assembler log file for program 'prog_rom.psm'.
Generated by KCPSM3 version 1.30
Ken Chapman (Xilinx Ltd) 2005.
13Feb2007-10:27:55

 Addr Code

 000                         CONSTANT Port_A, 00                         ;ENTRADA SWITCHES
 000                         CONSTANT UART_read_port, 01                 ;ENTRADA UART
 000                         CONSTANT UART_status_port, 02               ;ENTRADA ESTADO UART
 000                         CONSTANT UART_write_port, 01                ;Salida UART
 000                         CONSTANT tx_half_full, 01                   ;Transmisor half full - bit0
 000                         CONSTANT tx_full, 02                        ;  FIFO       full - bit1
 000                         CONSTANT rx_half_full, 04                   ;Receptor half full - bit2
 000                         CONSTANT rx_full, 08                        ;h(08)=b(00001000)   full - bit3
 000                         CONSTANT rx_data_present, 10                ;    data present   - bit4
 000                         ;
 000                         ;Registros Utilizados
 000                         ;
 000                         NAMEREG sF, UART_data
 000                         NAMEREG sE, UART_status
 000                         NAMEREG s0, LEDS
 000                         ;
 000  00000          Inicio: LOAD LEDS[s0], 00
 001  00E00                  LOAD UART_status[sE], 00
 002  00F00                  LOAD UART_data[sF], 00
 003  30006                  CALL loop_leds[006]
 004  30009                  CALL read_from_UART[009]
 005                         ;CALL send_to_UART
 005  34000                  JUMP Inicio[000]
 006                         ;
 006                         ;
 006  04000       loop_leds: INPUT LEDS[s0], Port_A[00]
 007  2C000                  OUTPUT LEDS[s0], Port_A[00]
 008  2A000                  RETURN
 009                         ;
 009  04E02  read_from_UART: INPUT UART_status[sE], UART_status_port[02]
 00A  12E10                  TEST UART_status[sE], rx_data_present[10]
 00B  3540D                  JUMP NZ, read_character[00D]
 00C  2A000                  RETURN
 00D  04F01  read_character: INPUT UART_data[sF], UART_read_port[01]
 00E  30010                  CALL send_to_UART[010]
 00F  2A000                  RETURN
 010                         ;
 010  04E02    send_to_UART: INPUT UART_status[sE], UART_status_port[02]
 011  12E02                  TEST UART_status[sE], tx_full[02]
 012  35014                  JUMP Z, UART_write[014]
 013  2A000                  RETURN
 014  2CF01      UART_write: OUTPUT UART_data[sF], UART_write_port[01]
 015  2A000                  RETURN
